<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="DOFPro group">

<title>33mm Rocket Assembly Instructions – High Power Rocketry</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="https://dofpro.org" class="navbar-brand navbar-brand-logo">
    <img src="../DOFPro_D7_Red_Flame_No_Background_cropped.png" alt="DOFPro Logo" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="https://dofpro.org">
    <span class="navbar-title">High Power Rocketry</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-intro" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Intro</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-intro">    
        <li>
    <a class="dropdown-item" href="../intro/index.html">
 <span class="dropdown-text">Intro</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../intro/cert.html">
 <span class="dropdown-text">Certification</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../safety/"> 
<span class="menu-text">Safety</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-construction" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Construction</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-construction">    
        <li>
    <a class="dropdown-item" href="../const/index.html">
 <span class="dropdown-text">General Tips</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../const/vulcanite.html">
 <span class="dropdown-text">Vulcanite Dual Deploy</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../const/DX3.html">
 <span class="dropdown-text">1.6" miniDX3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../const/55mmClassRocket.html">
 <span class="dropdown-text">55mm HMC Rocket</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../const/33mmClassRocket.html">
 <span class="dropdown-text">33mm HMC Rocket</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../const/standardVulcanite.html">
 <span class="dropdown-text">Standard Vulcanite</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-modeling" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Modeling</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-modeling">    
        <li>
    <a class="dropdown-item" href="../model/index.html">
 <span class="dropdown-text">Overview</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../model/softWareDownloads.qmd">
 <span class="dropdown-text">Software Downloads</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-data-analysis" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Data Analysis</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-data-analysis">    
        <li>
    <a class="dropdown-item" href="../instr/index.html">
 <span class="dropdown-text">Data Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../instr/baroalt.html">
 <span class="dropdown-text">Altimeters</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-flight-data" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Flight Data</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-flight-data">    
        <li>
    <a class="dropdown-item" href="../fltdata/index.html">
 <span class="dropdown-text">Overview</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../fltdata/FlightData.html">
 <span class="dropdown-text">Launch Data</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../archive/"> 
<span class="menu-text">Archive</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-dofpro" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">DOFPro</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-dofpro">    
        <li>
    <a class="dropdown-item" href="https://dofpro.org">
 <span class="dropdown-text">DOFPro Home</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://dofpro.org/CTP/">
 <span class="dropdown-text">Chem. Therm. Proc.</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#step-1-electronics-bay" id="toc-step-1-electronics-bay" class="nav-link active" data-scroll-target="#step-1-electronics-bay">Step 1: Electronics Bay</a></li>
  <li><a href="#step-2-silicone-wiring-and-jst-connectors" id="toc-step-2-silicone-wiring-and-jst-connectors" class="nav-link" data-scroll-target="#step-2-silicone-wiring-and-jst-connectors">Step 2: Silicone Wiring and JST Connectors</a></li>
  <li><a href="#stpe-3-assembly" id="toc-stpe-3-assembly" class="nav-link" data-scroll-target="#stpe-3-assembly">Stpe 3: Assembly</a></li>
  <li><a href="#step-4-fins" id="toc-step-4-fins" class="nav-link" data-scroll-target="#step-4-fins">Step 4: Fins</a></li>
  <li><a href="#step-5-nose-cone" id="toc-step-5-nose-cone" class="nav-link" data-scroll-target="#step-5-nose-cone">Step 5: Nose Cone</a></li>
  <li><a href="#step-6-launch-lugs" id="toc-step-6-launch-lugs" class="nav-link" data-scroll-target="#step-6-launch-lugs">Step 6: Launch Lugs</a></li>
  <li><a href="#step-7-motor-retainer" id="toc-step-7-motor-retainer" class="nav-link" data-scroll-target="#step-7-motor-retainer">Step 7: Motor Retainer</a></li>
  <li><a href="#step-8-shock-cords" id="toc-step-8-shock-cords" class="nav-link" data-scroll-target="#step-8-shock-cords">Step 8: Shock Cords</a></li>
  <li><a href="#step-9-parachutes" id="toc-step-9-parachutes" class="nav-link" data-scroll-target="#step-9-parachutes">Step 9: Parachutes</a></li>
  <li><a href="#testing-flight-computers-and-ejection-charges" id="toc-testing-flight-computers-and-ejection-charges" class="nav-link" data-scroll-target="#testing-flight-computers-and-ejection-charges">Testing Flight Computers and Ejection Charges</a></li>
  <li><a href="#aim-xtra" id="toc-aim-xtra" class="nav-link" data-scroll-target="#aim-xtra">AIM XTRA</a></li>
  <li><a href="#featherweight-raven" id="toc-featherweight-raven" class="nav-link" data-scroll-target="#featherweight-raven">Featherweight Raven</a></li>
  <li><a href="#testing-ejection-charges" id="toc-testing-ejection-charges" class="nav-link" data-scroll-target="#testing-ejection-charges">Testing Ejection Charges</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">33mm Rocket Assembly Instructions</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>DOFPro group </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<p>Make sure to review the <a href="https://dofpro.org/RCK/safety/">safety hints</a> before attempting assembly of any high-powered rockets.</p>
<section id="step-1-electronics-bay" class="level2">
<h2 class="anchored" data-anchor-id="step-1-electronics-bay">Step 1: Electronics Bay</h2>
<p>The plans and photos have not been fully updated for the 2019 modifications. Please ask if there is any doubt of what to do. The main electronics board is designed to hold the AIM XTRA, the Raven, the thermistor conditioning board, the three batteries, and the three screw switches. It also provides mounting points for the thermistor holders. A video of the assembly is <a href="https://youtu.be/nYhkCrSkq08">here</a>. The assembly drawing differs from the production version in the following ways:</p>
<ol type="1">
<li><p>The wiring is not shown.</p></li>
<li><p>The electric-match screw connectors are not shown on the top or bottom bulkheads.</p></li>
<li><p>The mounting hardware (screws, nuts, washers, spacers) are not shown.</p></li>
<li><p>The top and bottom bulkheads are now a solid piece without a separate screw eye.</p></li>
<li><p>The midsection is now in two pieces, a top and a bottom 3D-printed piece.</p></li>
<li><p>The antenna-support bulkhead and the battery bulkhead now have additional openings for wiring to pass through.</p></li>
<li><p>The thermistors and the thermistor supports are not shown.</p></li>
<li><p>The drawing has a 1/4” fiberglass rod. The current design has #5 allthread with nuts.</p></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/AssembledEBay.jpg" class="img-fluid figure-img"></p>
<figcaption>A See-Through Drawing of the Assembled Electronics Bay</figcaption>
</figure>
</div>
<p>The existing SolidWorks parts are listed on the <a href="https://pages.hmc.edu/spjut/AdvRoc/index.md.html#toc2">home page</a>.</p>
</section>
<section id="step-2-silicone-wiring-and-jst-connectors" class="level2">
<h2 class="anchored" data-anchor-id="step-2-silicone-wiring-and-jst-connectors">Step 2: Silicone Wiring and JST Connectors</h2>
<p>For most of the wiring, use the 24 AWG flexible silicone-insulated wire. We have large spools of the red and black because most of the wiring is either power or ground, but feel free to use the other colors to color-code your assembly. The flexible silicone-insulated wire can be bent in very tight corners without damaging the wires, which is invaluable when wiring the electronics bay, where clearances are very tight.</p>
<p>Two of the three batteries use JST RCY connectors. The prototype also uses <a href="http://www.jst-mfg.com/product/pdf/eng/eRCY.pdf">JST RCY</a> connectors for connecting the recovery-charge screw terminals on the bulkheads to the Raven and AIM XTRA. You have two ways to attach JST connectors to your wiring. Best is to use the PA-09 <a href="http://www.engineer.jp/en/products/pa09e.html">crimping tool</a> to crimp pins onto the 24 AWG flexible silicone-insulated wire, and then insert the pins into connector housings. This method will keep you from having non-flexible portions of the wire where spliced-and-soldered joints are. The <a href="https://iotexpert.com/2018/01/18/jst-connector-crimping-insanity/">JST Connector Crimping Procedure</a> toward the bottom of the page has detailed instructions on using the crimp tool.</p>
<p>The second method is to use the pre-wired JST RCY connectors. They can be spliced in to existing wiring with solder and heat-shrink tubing. We have two kinds. The first is the really cheap kind with really thin wire and fairly inflexible insulation. These should ONLY be used for testing, never for actual electronics bay wiring. The second has a slightly heavier gauge wire and more flexible insulation (the seller claims it’s silicone, but it’s not). These can be used for electronics bay wiring.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/JSTRCY.png" class="img-fluid figure-img"></p>
<figcaption>The inexpensive and slightly better pre-wired JST RCX connectors</figcaption>
</figure>
</div>
<p>The thermistors and the Raven battery use the small Molex connectors. We have pre-wired connectors that are acceptable for use. The ones for thermistor connection can be used as is. The Raven battery one will probably have to be spliced into the rest of the wiring for the Raven. Don’t forget the heat-shrink tubing.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/MolexConn.png" class="img-fluid figure-img"></p>
<figcaption>The Molex mini connectors</figcaption>
</figure>
</div>
</section>
<section id="stpe-3-assembly" class="level2">
<h2 class="anchored" data-anchor-id="stpe-3-assembly">Stpe 3: Assembly</h2>
<p>The assembly instruction sequence below is only one of many possible assembly sequences.</p>
<ol type="1">
<li>You may have to drill and tap the antenna support bulkhead and the forward battery bulkhead. I recommend 1/4” 4-40 screws.</li>
</ol>
<p><strong>The antenna support bulkhead and forward battery bulkhead are DIFFERENT from each other. Be sure to use one of each, and don’t make the other teams either have to machine the leftovers to work or laser cut new ones.</strong></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/BulkheadsDrillAndTapTop.jpg" class="img-fluid figure-img"></p>
<figcaption>The Antenna and Battery Bulkheads</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/BulkheadsDrillAndTapBottom.jpg" class="img-fluid figure-img"></p>
<figcaption>The Antenna and Battery Bulkhead Drill and Tap Locations</figcaption>
</figure>
</div>
<ol start="2" type="1">
<li><p>You may need to drill vent holes through the top and bottom supports. They have been drilled through the outer tube, but may need to be drilled into the center section. Install the top and bottom supports with the low-profile #4 wood screws. Slide the outer tube on, making sure the screw-switch hole are visible through the slot in the outer tube when the thermistor holder openings are aligned with the threaded thermistor holder holes. With the outer tube in position, install the two thermistor holders with the #1-72 flat head wood screws. Then, drill the three altimeter vent holes the rest of the way into the top and bottom supports, and then disassemble the pieces.</p></li>
<li><p>You will need to create the wiring harnesses for the electronics. You may arrange things how you want. Connection to the screw switches is by far easiest if you use the crimp-on connectors and the crimping tool.</p></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/TermForScrewSwitches.png" class="img-fluid figure-img"></p>
<figcaption>The crimping terminals for the screw switches and matching crimper</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/WireHarnessesHorizontal.jpg" class="img-fluid figure-img"></p>
<figcaption>The Wiring Harness</figcaption>
</figure>
</div>
<ol start="4" type="1">
<li>The recovery-charge screw terminals need to be installed in the top and bottom bulkheads. You’ll want to determine if you want male or female JST connectors for the inside. The prototype rocket used both male connectors on each end, which were labeled with permanent marker as to AIM (A) or Raven (R). If you used one male and one female (and the matching connectors on the harness), you could not get them mixed up when assembling the electronics bay. Once you’ve decided on the connectors, cut them so that the leads are fairly short, but still long enough to pass through the bulkheads and be soldered to the screw connectors. Make sure you know which way you want the screw connectors to face.</li>
</ol>
<ul>
<li><p>Pass the trimmed and stripped wires of the JST connector through the two holes from the inside to the outside.</p></li>
<li><p>Solder the stripped wires to the screw connector, making sure the connector is oriented correctly with the connector holes pointed away from the allthread.</p></li>
<li><p>Fill the two holes and the space under the screw connector with silicone and push the screw connector against the bulkhead.</p></li>
<li><p>Put a small daub of silicone on the inside between and around the two wires to anchor things from the inside.</p></li>
<li><p>Repeat steps 1 through 4 for the other connector.</p></li>
<li><p>Repeat steps 1 through 5 for the other bulkhead.</p></li>
<li><p>Let the silicone cure before installing the bulkheads.</p></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/ScrewTerminals.png" class="img-fluid figure-img"></p>
<figcaption>The recovery-charge screw terminals</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/TopBulkheadSideView.jpg" class="img-fluid figure-img"></p>
<figcaption>The Bolted Screw Eye and the Siliconed Wires on the Top Bulkhead</figcaption>
</figure>
</div>
<ol start="5" type="1">
<li>There are three batteries for the electronics bay. The computer side of the AIM XTRA should be powered by a 1000 mAh 3.7 V LiPo. The pyrotechnics/recovery charge side should be powered by a 300 mAh 7.4 V LiPo. The Raven should be powered by a 130 mAh or 170 mAh 3.7 V LiPo. The Raven is the back-up system, and the AIM XTRA is the main recovery system.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/ThreeBatteries.jpg" class="img-fluid figure-img"></p>
<figcaption>The 1000 mAh, 300 mAh, and 130 mAh LiPo batteries</figcaption>
</figure>
</div>
<ol start="6" type="1">
<li>The Raven requires #2 screws, nuts and spacers. It’s wise to put thin nylon washers below the screw heads to keep from shorting anything on the board. The AIM requires #4 screws threaded up through the bottom, with spacers and #4 small-pattern hex nuts on top. It’s probably best to mount the antenna support bulkhead now. The battery bulkhead needs to be attached at some point. This might be a good point to do so. Depending on how you wire the Raven, it may be easier to install the bulkhead either before or after wiring the Raven.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/AIMAndRaven.jpg" class="img-fluid figure-img"></p>
<figcaption>The mounting points for the AIM XTRA and the Raven</figcaption>
</figure>
</div>
<ol start="7" type="1">
<li>The screw switches mount on the underside of the electronics board but the electrical connection is on the top side. The stack from top to bottom is:</li>
</ol>
<ul>
<li><p>#2 screw</p></li>
<li><p>#2 brass washer</p></li>
<li><p>#2 crimp connector</p></li>
<li><p>#2 brass washer</p></li>
<li><p>Electronics board</p></li>
<li><p>2 – #2 nylon washers</p></li>
<li><p>screw switch</p></li>
<li><p>2 brass nut</p></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/ScrewSwitchesBottomView.jpg" class="img-fluid figure-img"></p>
<figcaption>The Bottom View of the Screw Switches</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/ScrewSwitchStack.jpg" class="img-fluid figure-img"></p>
<figcaption>The Antenna and Battery Bulkheads</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/SwitchesCrimpsTopView.jpg" class="img-fluid figure-img"></p>
<figcaption>The Top View of the Screw Switches and Crimp Connectors</figcaption>
</figure>
</div>
<ol start="8" type="1">
<li>You will need to keep track of the order of the switches for when you are powering the rocket. My chosen sequence was:</li>
</ol>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Switch Location</th>
<th>Powers</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Bottom (nearest AIM XTRA)</td>
<td>AIM XTRA computer</td>
</tr>
<tr class="even">
<td>Middle</td>
<td>AIM XTRA pyrotechnics (electric matches)</td>
</tr>
<tr class="odd">
<td>Top (nearest Raven)</td>
<td>Raven</td>
</tr>
</tbody>
</table>
<ol start="9" type="1">
<li><p>The thermistor conditioning board is mounted on top of the screw switches. It mounts using #2 screws (threaded up through the bottom), spacers, and nuts. You should consider using a #2 nylon washer between the top of the board and the nut to avoid shorting components. Most of the boards come with the 10-position screw terminal block installed. The terminal block makes installing the board and adding or removing wiring much easier, but it makes routing the thermistor connectors and wiring much more challenging. If you want or need a board without the connector, let me know. If your board does have the 10-pin connector, be sure to make sure the leads on the bottom side on the board are clipped so that they don’t short out against the screw switches under high-g loads.</p></li>
<li><p>The board layout with pin labels for the thermistor conditioning board is <a href="https://pages.hmc.edu/spjut/AdvRoc/PDF/ThermistorBoardLayout.pdf">here</a>. The schematic is <a href="https://pages.hmc.edu/spjut/AdvRoc/PDF/ThermistorConditionerSchematic.pdf">here</a>.</p></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/ThermistorBoard.jpg" class="img-fluid figure-img"></p>
<figcaption>The Installed and Connected Thermistor Conditioning Board</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/ThermCondBoard.png" class="img-fluid figure-img"></p>
<figcaption>Comparing clipped and unclipped leads on the Thermistor Conditioning Board</figcaption>
</figure>
</div>
<p>The wiring for the AIM XTRA has very little clearance between the AIM and the lower connector tube.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/AIMWiring.jpg" class="img-fluid figure-img"></p>
<figcaption>Routing the wiring to the AIM XTRA</figcaption>
</figure>
</div>
<ol start="11" type="1">
<li>Once the wiring is complete, the Top and Bottom supports need to be installed. The 3D-printed lower support must be placed so that the slot lines up with the screw switches. The upper support covers the thermistor board and a small portion of the AIM XTRA. It’s easiest to feed the two thermistor connectors through the slots in the upper support at this point. Be sure not to bind or pinch any wires under the supports when you screw them down.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/SupportsAssembled.jpg" class="img-fluid figure-img"></p>
<figcaption>The Top and Bottom Supports</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/PopulatedTopView.jpg" class="img-fluid figure-img"></p>
<figcaption>The Top View of the Electronics Bay Partially Assembled</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/PopulatedBottomView.jpg" class="img-fluid figure-img"></p>
<figcaption>The Bottom View of the Electronics Bay Partially Assembled</figcaption>
</figure>
</div>
<p>The #5 allthread rod is easiest to install at this point. It can be installed later, but is usually hard to slide through everything.</p>
<ol start="12" type="1">
<li><p>At this point, the batteries need to be added. The 1000 mAh 3.7 V LiPo goes on first, followed by the 300 mAh 7.4 V LiPo, and finally the 130 mAh or 170 mAh 3.7 V LiPo. The connectors and everything needs to fit in the battery compartment. There isn’t clearance to wrap electrical tape around the batteries to secure them unless you sand or grind places for the tape in the mounting board.</p></li>
<li><p>The top coupler tube needs to be slid over the batteries and mated with the center support. It is critical that the pyro connectors are accessible through the top of the coupler, and that none of the wires are pinched or trapped between the coupler and anything else. If you are not careful, it easy to strip or sever pinched wires. The top coupler tube has three threaded holes that will line up with the countersunk holes in the main parachute section. Be sure that the holes are aligned how you want them.</p></li>
<li><p>The Bottom coupler tube needs to be slid over the AIM XTRA and mated with the center support. It is critical that the pyro connectors are accessible through the bottom of the coupler, and that none of the wires are pinched or trapped between the coupler and anything else. If you are not careful, it easy to strip or sever pinched wires. The bottom coupler has two holes for shear pins that mate up with holes in your bottom body tube/motor mount. You want to make sure that when you put in the shear pins that the screw switches are on the opposite side of the rocket from the launch lugs. Otherwise, you will not be able to arm the rocket on the pad.</p></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/PartiallyAssembledTopView.jpg" class="img-fluid figure-img"></p>
<figcaption>The Top and Bottom Couplers in Place</figcaption>
</figure>
</div>
<ol start="15" type="1">
<li>The pyro connectors from the AIM XTRA and the Raven must be connected with the pyro connectors in the top and bottom bulkheads. Make sure you know which is which, because you will use different amounts of black powder with the principal recovery (AIM) and the back-up recovery (Raven). After the pyro connectors are attached, slide the top and bottom bulkheads into position and secure them first with the component board lock plates and #4 screws. Then secure them with the #5 allthread, a washer, and a pair of #5 nuts on each end.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/TopEndAssembled.jpg" class="img-fluid figure-img"></p>
<figcaption>The Assembled Top End Bulkhead</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/CoverOffTopView.jpg" class="img-fluid figure-img"></p>
<figcaption>The Top View with No Cover</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/CoverOffBottomView.jpg" class="img-fluid figure-img"></p>
<figcaption>The Bottom View with No Cover</figcaption>
</figure>
</div>
<ol start="16" type="1">
<li>Slide the ebay cover over the assembled parts. Make sure that the screw holes are aligned with the screw slot on the bottom support and the threaded holes for the thermistor holders are visible.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/AssembledBottomView.jpg" class="img-fluid figure-img"></p>
<figcaption>The Top and Bottom Couplers in Place</figcaption>
</figure>
</div>
<ol start="17" type="1">
<li>Connect the thermistors to the thermistor connectors and screw down the thermistor holders with #1-72 flat-head wood screws. Be careful not the strain the fine-gauge wires during any part of the assembly process. It often helps to have the AIM XTRA powered up and transmitting telemetry on the thermistors as you attach them, feed the excess wire into the hole and screw down the thermistor holders, to verify that they’re functioning. Be sure that the holders are pointing with the thermistors toward the rear of the rocket.</li>
</ol>
</section>
<section id="step-4-fins" class="level2">
<h2 class="anchored" data-anchor-id="step-4-fins">Step 4: Fins</h2>
<p>Fin placement isn’t critical, but roughly 1.5 to 2 inches above the base of the lower body tube provides good aerodynamics and keeps the fins from hitting first and breaking when the rocket lands.</p>
<p>The fin fillets can be hard to smooth with the added glass fiber. Alternatively, you can use wooden dowels or lengths of PVC pipe on top of wax paper or parchment paper and held in place with rubber bands to make smooth.</p>
<p>Make sure to remove the blue or masking tape before the epoxy hardens too much.</p>
<p>Remember, the fillets are all that’s holding on your fins against the supersonic drag forces, and the hard landings. Make sure they are robust enough.</p>
</section>
<section id="step-5-nose-cone" class="level2">
<h2 class="anchored" data-anchor-id="step-5-nose-cone">Step 5: Nose Cone</h2>
<p>If you are not using an additional payload section, you need to attach a screw eye and the bulkhead to the nose cone connector tube. Epoxy the bulkhead far enough into the connector tube to permit a good fillet. The nose cone connector tube is attached to the nose cone with screws to permit access to the inside (perhaps for electronics). after the screw eye and bulkhead are attached.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://dofprobucket2.s3.us-east-2.amazonaws.com/Images/NoseconeBulkheadScrewEye.jpg" class="img-fluid figure-img"></p>
<figcaption>The Nosecone Coupler Bulkhead and Screw Eye Hardware</figcaption>
</figure>
</div>
</section>
<section id="step-6-launch-lugs" class="level2">
<h2 class="anchored" data-anchor-id="step-6-launch-lugs">Step 6: Launch Lugs</h2>
<p>The launch lugs should be epoxied on. Placement isn’t critical, but the bottom one should be somewhere in between the top edge of the fins and the bottom edge of the fins. The top one should be an inch or two below the top of the lower body tube. Make sure they are aligned along the body tube.</p>
</section>
<section id="step-7-motor-retainer" class="level2">
<h2 class="anchored" data-anchor-id="step-7-motor-retainer">Step 7: Motor Retainer</h2>
<p>There are two motor retainers in your kit: A minimum-diameter retainer interior to your rocket, which we use primerily for attaching the shock cord, and a slim-line retainer for holding the motor in. However, the slim line has a fairly large detrimental effect on the performance of your rocket. Before installing the slim-line motor retainer, run flight simulations showing how much difference you have in performance (top speed and altitude) if you leave the retainer off or if you include it.</p>
<p><strong>Whether you use the minimum-diameter retainer for just securing the shock cord, or for also retaining the motor, it is CRITICAL that you secure the screw eye to the motor retainer with Loc-tite or CA. We have had the screw eye loosen and come free during descent, which led to the aft end of the rocket and motor casing falling from a substantial height, and failure of a Level 2 cert flight.</strong></p>
<p>If you decide to install the slim-line motor retainer retainer and the adapter cone:</p>
<ul>
<li><p>The transition and motor retainer should be installed last.</p></li>
<li><p>Make sure that the transition and retainer are flush with each other when dry fit.</p></li>
<li><p>Use JB Weld to install the motor retainer because it is so near the burning motor.</p></li>
<li><p>The retainer base has a threaded side that fits the threaded ring and one that doesn’t. Make sure that the threaded side is facing away from the rocket. Otherwise the retainer is pointless.</p></li>
<li><p>Don’t forget to sand the outside of the tube where the motor retainer will join.</p></li>
<li><p>The retainer is designed for thick-walled tubes, not thin like we are using. You have to use a few extra steps to ensure the tube and retainer are aligned.</p></li>
</ul>
<p>-The steps are:</p>
<ol type="1">
<li><p>Get an Aerotech motor casing and attach an aft closure after superlubing the threads.</p></li>
<li><p>Wrap parchment paper or wax paper around the motor casing and closure to keep epoxy from sticking to it.</p></li>
<li><p>Thread the motor casing through the motor retainer and secure the casing with the threaded ring.</p></li>
<li><p>Apply a generous amount of JB Weld to the outside of the lower body tube.</p></li>
<li><p>Thread the motor casing into the lower body tube, being sure to keep epoxy off the casing.</p></li>
<li><p>Twist the motor-retainer assembly onto the lower body tube to make sure the JB Weld spreads evenly until it bottoms out.</p></li>
<li><p>Wipe off any JB Weld showing above the retainer.</p></li>
<li><p>Stand the tube vertically with the retainer on the bottom.</p></li>
<li><p>After 20 minutes to an hour unscrew the threaded ring and make sure the motor tube can still slide smoothly. If so, reattach and tighten the threaded ring and stand the tube vertically with the retainer on the bottom for at least 12 hours.</p></li>
<li><p>Removed the motor casing.</p></li>
<li><p>Secure the transition to the retainer with JB Weld.</p></li>
</ol>
</section>
<section id="step-8-shock-cords" class="level2">
<h2 class="anchored" data-anchor-id="step-8-shock-cords">Step 8: Shock Cords</h2>
<p>You should cut the 30 foot kevlar cord into two 15 foot sections.</p>
<p>To attach the shock cord to the screw eye inside the lower body/motor mount tube, use the long Aerotech motor casing with the threaded forward closure. Slide it in from the bottom and screw it in to the minimum-diameter motor retainer. Remove the six #2 flat head screws and pull the retainer out of the rocket.</p>
<p><strong>Important</strong> While you have the retainer out of the rocket: It is CRITICAL that you secure the screw eye to the motor retainer with Loc-tite or CA.</p>
<p>Attach the shock cord to the screw eye (don’t forget the electrical tape). Thread the shock cord through the body tube and reinstall the fixture with the six #2 flat head screws.</p>
</section>
<section id="step-9-parachutes" class="level2">
<h2 class="anchored" data-anchor-id="step-9-parachutes">Step 9: Parachutes</h2>
<p>The main parachute (the 30” one) goes in the forward body tube. The drogue (the 12” one if you use it) goes in the top of the lower body/motor mount tube. In high-power rocketry, the parachute is rarely attached to the nose cone. It’s usually attached at the 1/3 — 2/3 point of the shock cord with the heavier section on the 2/3 side. That way the two sections will not collide with each other as the rocket descends. There are several methods for attaching the parachute to the shock cord. I prefer a <a href="https://youtu.be/kbB85p_uJsE">figure-eight knot on a bight</a> on the shock cord and then the usual lark’s head knot with the parachute shroud lines.</p>
<p>Optional Payload Section If your rocket requires space for electronics beyond what will fit in the nose cone, you can add an optional payload section.</p>
</section>
<section id="testing-flight-computers-and-ejection-charges" class="level1">
<h1>Testing Flight Computers and Ejection Charges</h1>
<p>You have to verify that the flight-computer-and-battery combination will function with your chosen e-matches, Firewire initiators, or First Fire initiators. You also have to determine the correct amount of black powder for separation and parachute ejection. E-matches and firewire initiators will work with a 3.7 V or larger battery. First Fire initiators require 11 V batteries or larger. You will want to use either the 3rd or 4th channel on a Raven to power a First Fire, because these channels can handle up to 40 A of current, while the main and apogee can handle about 9 A of current.</p>
</section>
<section id="aim-xtra" class="level1">
<h1>AIM XTRA</h1>
<p><strong>Do not test the flight computers with actual ejection charges (black powder) or rocket motors attached. Serious personal injury can result. Only use bare e-matches, Firewire initiators, and/or First Fire initiators, as appropriate.</strong></p>
<p>For our purposes you’ll want to do the following:</p>
<ol type="1">
<li><p>Put on safety glasses.</p></li>
<li><p>Wire up the AIM XTRA, battery, and electronics bay as it would be for flight, but leave the bottom coupler tube off (you need access to the mini-USB connector on the AIM), connect both bulkheads, and verify that both screw switches are off.</p></li>
<li><p>Connect an e-match or Firewire initiator to the screw terminals on each bulkhead. Make sure they are not near or touching anything flammable.</p></li>
<li><p>Connect the AIM XTRA to your computer and start the AIM XTRA program.</p></li>
<li><p>Turn on the the Computer screw switch and then the Pyro screw switch. Verify that the voltages reported in the Inputs &amp; Power subtab under the Live Data tab are what you expect.</p></li>
<li><p>Verify that both Channels A and B show continuity.</p></li>
<li><p>Click on the Control Panel tab.</p></li>
<li><p>To fire the Drogue/Apogee click on the Fire Line A button. Verify that the e-match or Firewire initiator connected to the bottom bulkhead fired.</p></li>
<li><p>To fire the Main click on the Fire Line B button. Verify that the e-match or Firewire initiator connected to the top bulkhead fired.</p></li>
</ol>
</section>
<section id="featherweight-raven" class="level1">
<h1>Featherweight Raven</h1>
<p>The instructions for testing e-matches or Firewire initiators are covered in the Running a Flight Simulation section of the Raven Users’ Manual. For our purposes you’ll want to do the following:</p>
<ol type="1">
<li><p>Make sure you’ve configured the Raven how you want.</p></li>
<li><p>Put on safety glasses.</p></li>
<li><p>Wire up the Raven, battery, and electronics bay as it would be for flight, but leave the top coupler tube off (you need access to the mini-USB connector on the Raven), connect both bulkheads, and verify that the Raven screw switch is off.</p></li>
<li><p>Connect the relevant e-matchs, Firewire initiators, and/or First Fire initiators to the appropriate terminals as for flight. Make sure they are not near or touching anything flammable.</p></li>
<li><p>Hold the electronics bay with the top end pointing toward the ground (The Raven Screw Terminal Block must be pointed up). Turn on the the screw switch and verify that you are getting the expected beep pattern.</p></li>
<li><p>Connect the Raven to your computer and start the FIP.</p></li>
<li><p>Click on the cal/test tab of the FIP.</p></li>
<li><p>Follow the on-screen directions and button labels to perform a flight simulation.</p></li>
<li><p>Verify that the relevant device fires as expected at the correct stage of the flight. Don’t forget that you’re holding the electronics bay upside down.</p></li>
</ol>
</section>
<section id="testing-ejection-charges" class="level1">
<h1>Testing Ejection Charges</h1>
<p>You’ll want to test the ejection charges with your rocket essentially complete. However, you don’t want to test fire the ejection charges using the flight computers. It’s too hard to be a safe distance away. It’s best to have the bulkhead connector connected to a line that runs out through the port for the thermistor and then runs to a launch controller. You want to be a safe distance, a minimum of 30 feet, from the DUT. Follow the usual safety precautions for static tests, with an area marked off by safety cones, everyone wearing safety glasses, the usual arming and countdown sequence, and waiting at least 60 seconds if there is a misfire.</p>
<p>For our purposes, the desired sequence is:</p>
<ol type="1">
<li><p>Make sure the launch controller is off with the safety key removed and in the possession of the LCO.</p></li>
<li><p>Make sure the shock cord of the test end is secured to both the electronics bay and either the nose cone or payload section for the Main tests or the lower body tube for the apogee/drogue tests.</p></li>
<li><p>Make sure everyone has on safety glasses.</p></li>
<li><p>Mount the end of the electronics bay opposite from the test end to the hose clamps.</p></li>
<li><p>Use the crosspiece to elevate the electronics bay to a reasonable angle. It doesn’t hurt to anchor the end of the support piece with the hose clamps to the ground with tent stakes.</p></li>
<li><p>Load one of the initiator-centrifuge-tube containers with the desired amount of black powder. Fill the space above the black powder with recovery wadding, and snap on the lid and plastic lock.</p></li>
<li><p>Untwist the leads and connect them to the relevant screw terminal</p></li>
<li><p>Prep the parachute and recovery equipment and secure everything to the electronics bay. For the apogee/drogue test</p></li>
</ol>
<ul>
<li><p>Make sure an empty motor casing is in the tube and is secured with the motor retainer.</p></li>
<li><p>Fold the drogue ’chute and wrap it tightly in several layers of recovery wadding.</p></li>
<li><p>Load the parachute and shock cord into the lower body tube.</p></li>
<li><p>Secure the tube to the electronics bay with two shear pins (#2-56 nylon screws). For the Main test</p></li>
<li><p>Fold the parachute and wrap it tightly in several layers of recovery wadding.</p></li>
<li><p>Insert the parachute into the upper body tube.</p></li>
<li><p>Insert the nose cone in the top of the upper body tube and secure it with two shear pins (#2-56 nylon screws).</p></li>
<li><p>Insert the chute blast protector and the balance of the shock cord into the bottom of the upper body tube. You want to try to protect the ’chute with both the shock cord and the chute blast protector.</p></li>
<li><p>Secure the upper body tube to the electronics bay with three #2-1/4” 100° flathead screws.</p></li>
</ul>
<ol start="9" type="1">
<li><p>Clear everyone out of the test area.</p></li>
<li><p>Arm the launch controller.</p></li>
<li><p>Give a countdown from 5.</p></li>
<li><p>Fire the ejection charge.</p></li>
</ol>
<p>The class prototype rocket required 0.6 g of black powder for the apogee charge, and 0.5 g for the Main charge. These are reasonable places to start your own tests. The correct amount of powder will cause the rocket to forcefully separate, and reach the end of the shock cord without too much jerk when the cord reaches its full extent. You don’t want the parts of the rocket to recoil and hit each other.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/DOFProGuru\.github\.io\/RCK\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>